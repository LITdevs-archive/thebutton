<!DOCTYPE html>
<html>
	<head>
		<title>the button.</title>
	</head>
	<body>
		<h1>
			captcha time
		</h1>
		<p>Alive: <%=isAlive %></p>
		<p>Health Level: <%=health %></p>
		<form action="/" method="POST">
		<%- captcha%>
		<button type='submit' disabled id="submitButton">Submit Captcha</button><br/>
		</form> 
		<script>
			function cb(token) {
				/*
				I would like to note that this isn't designed by me. 
				I took it off the example project of the node package, it seems a bit silly to me.
				Surely there is a better way, but it works so I'll stick with it.
				Ok I made some small edits to it, but it is still quite stupid.
				- Skelly
				*/
				var input = document.createElement('input'); 
				input.style.display = "none"
				input.setAttribute('type', 'text');
				input.setAttribute('name', 'g-recaptcha-response');
				input.setAttribute('value', token);
				document.getElementsByTagName('form')[0].appendChild(input);
				document.getElementById("submitButton").disabled = false;
				setTimeout(() => {
					document.getElementById("submitButton").disabled = true;
					document.getElementById("submitButton").innerHTML = "Please refresh the page to press the button.";
				}, 120000)
			}
		</script>
	</body>
</html>

